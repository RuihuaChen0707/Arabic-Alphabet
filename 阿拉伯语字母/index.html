<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="é˜¿æ‹‰ä¼¯è¯­å­—æ¯">
    <meta name="format-detection" content="telephone=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-touch-fullscreen" content="yes">
    <title>é˜¿æ‹‰ä¼¯è¯­å­—æ¯è®¤è¯»å¡ç‰‡</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Safariå…¼å®¹æ€§æ ·å¼ */
        * {
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }
        
        /* Safariè¯­éŸ³æŒ‰é’®æ ·å¼ä¿®å¤ */
        .play-btn {
            -webkit-appearance: none;
            appearance: none;
            border: none;
            background: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>é˜¿æ‹‰ä¼¯è¯­å­—æ¯è®¤è¯»å¡ç‰‡</h1>
        
        <!-- å­—æ¯å¡ç‰‡åŒºåŸŸ -->
        <div class="alphabet-grid" id="alphabetGrid">
            <!-- å­—æ¯å¡ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            <div class="letter-card" data-letter="Ø§" data-pronunciation="alif" onclick="openLearningModal('Ø§')">
                <div class="letter">Ø§</div>
                <div class="pronunciation">alif</div>
            </div>
        </div>
        
        <!-- æµ‹è¯•æ¨¡å¼å…¥å£ -->
        <div class="test-section">
            <button class="test-button" onclick="enterTestMode()">è¿›å…¥æµ‹è¯•æ¨¡å¼</button>
        </div>
    </div>

    <!-- æµ‹è¯•æ¨¡å¼å¼¹çª— -->
    <div class="test-modal" id="testModal">
        <div class="test-content">
            <h2>æµ‹è¯•æ¨¡å¼</h2>
            <div class="test-info">
                <p>é¢˜ç›® <span id="questionNumber">1</span>/10</p>
                <p>å¾—åˆ†: <span id="score">0</span></p>
            </div>
            
            <!-- é¢˜å‹1ï¼šæ˜¾ç¤ºå­—æ¯ï¼Œé€‰æ‹©å‘éŸ³ -->
            <div class="question-type-1" id="questionType1">
                <div class="question-letter" id="questionLetter">Ø§</div>
                <div class="options" id="options1">
                    <!-- é€‰é¡¹å°†é€šè¿‡JavaScriptç”Ÿæˆ -->
                </div>
            </div>
            
            <!-- é¢˜å‹2ï¼šæ˜¾ç¤ºå‘éŸ³ï¼Œé€‰æ‹©å­—æ¯ -->
            <div class="question-type-2" id="questionType2" style="display: none;">
                <p style="font-size: 1.5rem; color: #667eea; margin-bottom: 20px;">è¯·æ ¹æ®å‘éŸ³é€‰æ‹©æ­£ç¡®çš„å­—æ¯</p>
                <button class="play-sound-btn" onclick="playSound()">æ’­æ”¾å‘éŸ³</button>
                <div class="options" id="options2">
                    <!-- é€‰é¡¹å°†é€šè¿‡JavaScriptç”Ÿæˆ -->
                </div>
            </div>
            
            <div class="feedback" id="feedback"></div>
            
            <div class="test-buttons">
                <button onclick="closeTestMode()">é€€å‡ºæµ‹è¯•</button>
                <button onclick="nextQuestion()" id="nextBtn" style="display: none;">ä¸‹ä¸€é¢˜</button>
            </div>
        </div>
    </div>

    <!-- å­—æ¯å­¦ä¹ æ¨¡æ€æ¡† -->
    <div class="learning-modal" id="learningModal">
        <div class="learning-content">
            <h2>å­—æ¯å­¦ä¹ </h2>
            <button class="close-btn" onclick="closeLearningMode()">&times;</button>
            
            <!-- å‘éŸ³ç¬¦å·å½¢å¼ -->
            <div class="pronunciation-forms">
                <h3>å‘éŸ³ç¬¦å·å½¢å¼</h3>
                <div class="forms-grid">
                    <div class="form-item" onclick="playPronunciation('fatha')">
                        <div class="form-letter" id="fatha"></div>
                        <div class="form-label">å¼€å£ç¬¦</div>
                        <button class="play-btn">ğŸ”Š</button>
                    </div>
                    <div class="form-item" onclick="playPronunciation('kasra')">
                        <div class="form-letter" id="kasra"></div>
                        <div class="form-label">é½é½¿ç¬¦</div>
                        <button class="play-btn">ğŸ”Š</button>
                    </div>
                    <div class="form-item" onclick="playPronunciation('damma')">
                        <div class="form-letter" id="damma"></div>
                        <div class="form-label">åˆå£ç¬¦</div>
                        <button class="play-btn">ğŸ”Š</button>
                    </div>
                    <div class="form-item" onclick="playPronunciation('fathaLong')">
                        <div class="form-letter" id="fathaLong"></div>
                        <div class="form-label">å¼€å£ç¬¦é•¿éŸ³</div>
                        <button class="play-btn">ğŸ”Š</button>
                    </div>
                    <div class="form-item" onclick="playPronunciation('kasraLong')">
                        <div class="form-letter" id="kasraLong"></div>
                        <div class="form-label">é½é½¿ç¬¦é•¿éŸ³</div>
                        <button class="play-btn">ğŸ”Š</button>
                    </div>
                    <div class="form-item" onclick="playPronunciation('dammaLong')">
                        <div class="form-letter" id="dammaLong"></div>
                        <div class="form-label">åˆå£ç¬¦é•¿éŸ³</div>
                        <button class="play-btn">ğŸ”Š</button>
                    </div>
                    <div class="form-item" onclick="playPronunciation('fathaNasal')">
                        <div class="form-letter" id="fathaNasal"></div>
                        <div class="form-label">å¼€å£ç¬¦é¼»éŸ³</div>
                        <button class="play-btn">ğŸ”Š</button>
                    </div>
                    <div class="form-item" onclick="playPronunciation('kasraNasal')">
                        <div class="form-letter" id="kasraNasal"></div>
                        <div class="form-label">é½é½¿ç¬¦é¼»éŸ³</div>
                        <button class="play-btn">ğŸ”Š</button>
                    </div>
                    <div class="form-item" onclick="playPronunciation('dammaNasal')">
                        <div class="form-letter" id="dammaNasal"></div>
                        <div class="form-label">åˆå£ç¬¦é¼»éŸ³</div>
                        <button class="play-btn">ğŸ”Š</button>
                    </div>
                    <div class="form-item" onclick="playPronunciation('softAy')">
                        <div class="form-letter" id="softAy"></div>
                        <div class="form-label">è½¯éŸ³ay</div>
                        <button class="play-btn">ğŸ”Š</button>
                    </div>
                    <div class="form-item" onclick="playPronunciation('softAw')">
                        <div class="form-letter" id="softAw"></div>
                        <div class="form-label">è½¯éŸ³aw</div>
                        <button class="play-btn">ğŸ”Š</button>
                    </div>
                </div>
            </div>

            <!-- å­—æ¯å½¢å¼ -->
            <div class="letter-forms">
                <h3>å­—æ¯å½¢å¼</h3>
                <div class="forms-grid">
                    <div class="form-item" onclick="playPronunciation('isolated')">
                        <div class="form-letter" id="isolatedForm"></div>
                        <div class="form-label">ç‹¬ç«‹å½¢å¼</div>
                        <button class="play-btn">ğŸ”Š</button>
                    </div>
                    <div class="form-item" onclick="playPronunciation('initial')">
                        <div class="form-letter" id="initialForm"></div>
                        <div class="form-label">å¼€å¤´å½¢å¼</div>
                        <button class="play-btn">ğŸ”Š</button>
                    </div>
                    <div class="form-item" onclick="playPronunciation('middle')">
                        <div class="form-letter" id="middleForm"></div>
                        <div class="form-label">ä¸­é—´å½¢å¼</div>
                        <button class="play-btn">ğŸ”Š</button>
                    </div>
                    <div class="form-item" onclick="playPronunciation('final')">
                        <div class="form-letter" id="finalForm"></div>
                        <div class="form-label">ç»“å°¾å½¢å¼</div>
                        <button class="play-btn">ğŸ”Š</button>
                    </div>
                </div>
            </div>
            
            <!-- æ‰‹å†™ç™½æ¿åŒºåŸŸ -->
            <div class="writing-area">
                <h3>æ‰‹å†™ç»ƒä¹ </h3>
                <div class="canvas-container">
                    <canvas id="writingCanvas" width="400" height="200"></canvas>
                    <div class="canvas-lines"></div>
                </div>
                <div class="canvas-controls">
                    <button onclick="clearCanvas()" class="clear-btn">æ¸…å±</button>
                    <button onclick="toggleEraser()" class="eraser-btn">æ©¡çš®æ“¦</button>
                    <button onclick="togglePencil()" class="pencil-btn active">é“…ç¬”</button>
                </div>
            </div>
        </div>
    </div>

    <script src="safari-polyfill.js"></script>
    <script src="script.js"></script>
</body>
</html>